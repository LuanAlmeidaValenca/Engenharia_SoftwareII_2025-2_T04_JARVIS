{
    "similaridade_semantica": 0.85356205701828,
    "codigo_1": "\ndef choose_tool(question, Tool_dic, tool_used, model_name):\n    chat = ChatOpenAI(model_name=model_name)\n    template = \"You are a helpful assistant.\"\n    system_message_prompt = SystemMessagePromptTemplate.from_template(template)\n    human_message_prompt = HumanMessagePromptTemplate.from_template(\n        \"This is the user's question: {question}\n\"\n        \"These are the tools you can select to solve the question:\n\"\n        \"Tool List:\n\"\n        \"{Too_list}\n\n\"\n        \"Please note that: \n\"\n        \"1. You should only chooce one tool the Tool List to solve this question.\n\"\n        \"2. You must ONLY output the ID of the tool you chose in a parsible JSON format. An example output looks like:\n\"\n        \"'''\n\"\n        \"Example: {{\"ID\": XX}}\n\"\n        \"'''\n\"\n        \"Output:\"\n    )\n    chat_prompt = ChatPromptTemplate.from_messages([system_message_prompt, human_message_prompt])\n    chain = LLMChain(llm=chat, prompt=chat_prompt)\n    ind = 0\n    Tool_list = []\n    for ele in Tool_dic:\n        for key in ele.keys():\n            if str(key) not in tool_used:\n                Tool_list.append(f'''ID: {key}\n{ele[key]}''')\n    while True:\n        try:\n            result = chain.run(question=question,\n                               Too_list='\n'.join(Tool_list))\n            clean_answer = eval(result.split(\"\n\n\")[-1].strip())\n            break\n        except Exception as e:\n            print(f\"choose tool fails: {e}\")\n            if ind > 10:\n                return -1\n            ind += 1\n            continue\n    return clean_answer\n",
    "codigo_2": "\ndef choose_API(API_instruction, API_list, question, model_name):\n    input_execute_rapidapi_api_note = '''\nThis is an API Tool instruction. Given a question, you should choose APIs from the API list you want to use for this question in this instruction.\nyou must only output in a parsible Python List Format. An example output looks like:\n```\n[\"api1\", \"api2\", ...]\n```\n'''.strip()\n    chat = ChatOpenAI(model_name=model_name)\n    template = \"You are a helpful assistant.\"\n    system_message_prompt = SystemMessagePromptTemplate.from_template(template)\n    human_message_prompt = HumanMessagePromptTemplate.from_template(\n        \"{API_instruction}\n\"\n        \"{input_execute_rapidapi_api_note}\n\"\n        \"This is the API list: {API_list}\n\"\n        \"Please note that: \n\"\n        \"1. The APIs you choose must in the API list.\n\"\n        \"2. You must ONLY output in the following parsible Python List Format.\n\"\n        \"```\n\"\n        \"Output_Example: [\"api1\", \"api2\", ...]\n\"\n        \"```\n\"\n        \"Question: {question}\n\"\n        \"Output:\"\n    )\n    chat_prompt = ChatPromptTemplate.from_messages([system_message_prompt, human_message_prompt])\n    chain = LLMChain(llm=chat, prompt=chat_prompt)\n    ind = 0\n    while True:\n        try:\n            result = chain.run(API_instruction=API_instruction,\n                               API_list=API_list,\n                               question=question,\n                               input_execute_rapidapi_api_note=input_execute_rapidapi_api_note)\n            clean_answer = eval(result.replace(\"```\", \"\").strip().split(\"\n\n\")[0].strip())\n            if isinstance(clean_answer, str):\n                ls = [clean_answer]\n            elif isinstance(clean_answer, list):\n                ls = clean_answer\n            temp = []\n            for ele in ls:\n                if ele in API_list:\n                    temp.append(ele)\n            ls = temp\n            return ls\n        except Exception as e:\n            print(f\"Choose API fails:{e}\")\n            print(result)\n            if ind > 10:\n                return []\n            ind += 1\n            continue\n    return ls\n"
}